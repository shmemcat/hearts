/* Shoot the Moon celebration overlay */

.overlay {
   position: absolute;
   inset: 0;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   z-index: 10;
   background: var(--roundsummarybackground);
   border-radius: 16px;
   overflow: hidden;
   animation: stmFadeIn 0.4s ease-out;
}

@keyframes stmFadeIn {
   from {
      opacity: 0;
   }
   to {
      opacity: 1;
   }
}

/* ── Moon (top-right corner) ─────────────────────────────── */

.moon {
   position: absolute;
   top: 8%;
   right: 10%;
   font-size: 56px;
   opacity: 0;
   animation: moonAppear 0.5s ease-out 0.2s forwards;
   filter: drop-shadow(0 0 15px rgba(255, 220, 80, 0.5));
   z-index: 2;
   pointer-events: none;
}

.moonLight {
   display: inline;
}
.moonDark {
   display: none;
}
:global([data-theme="dark"]) .moonLight {
   display: none;
}
:global([data-theme="dark"]) .moonDark {
   display: inline;
}

@keyframes moonAppear {
   from {
      opacity: 0;
      transform: scale(0.3);
   }
   to {
      opacity: 1;
      transform: scale(1);
   }
}

/* ── Rocket (parabolic arc: X ease-in + Y ease-out = curve) ─ */

.rocketWrap {
   position: absolute;
   top: 60%;
   left: 38%;
   z-index: 3;
   pointer-events: none;
   opacity: 0;
   animation: rocketX 0.9s ease-in 0.6s forwards;
}

.rocket {
   display: inline-block;
   font-size: 28px;
   animation: rocketY 0.9s ease-out 0.6s forwards;
}

@keyframes rocketX {
   from {
      opacity: 1;
      transform: translateX(0);
   }
   to {
      opacity: 1;
      transform: translateX(320px);
   }
}

@keyframes rocketY {
   0% {
      transform: translateY(0) rotate(-40deg);
      opacity: 1;
   }
   85% {
      transform: translateY(-215px) rotate(0deg);
      opacity: 1;
   }
   100% {
      transform: translateY(-210px) rotate(5deg);
      opacity: 0;
   }
}

/* ── Explosion flash at moon position ────────────────────── */

.explosion {
   position: absolute;
   top: 8%;
   right: 10%;
   width: 70px;
   height: 70px;
   border-radius: 50%;
   opacity: 0;
   z-index: 4;
   pointer-events: none;
   animation: explode 0.5s ease-out 1.45s forwards;
   background: radial-gradient(
      circle,
      rgba(255, 220, 80, 0.9),
      rgba(255, 120, 50, 0.5),
      transparent
   );
}

@keyframes explode {
   0% {
      opacity: 1;
      transform: scale(0.3);
   }
   50% {
      opacity: 0.8;
      transform: scale(2.5);
   }
   100% {
      opacity: 0;
      transform: scale(3.5);
   }
}

/* ── Confetti anchor (invisible target for party-js) ─────── */

.confettiAnchor {
   position: absolute;
   top: 12%;
   right: 14%;
   width: 1px;
   height: 1px;
   pointer-events: none;
}

/* ── Title text ──────────────────────────────────────────── */

.title {
   font-size: 1.5rem;
   font-weight: 800;
   color: var(--header);
   opacity: 0;
   z-index: 5;
   animation: titlePop 0.5s ease-out 1.7s forwards;
   margin-bottom: 4px;
}

@keyframes titlePop {
   0% {
      opacity: 0;
      transform: scale(0.5);
   }
   70% {
      opacity: 1;
      transform: scale(1.1);
   }
   100% {
      opacity: 1;
      transform: scale(1);
   }
}

/* ── Shooter subtitle ────────────────────────────────────── */

.shooterName {
   font-size: 0.95rem;
   font-weight: 600;
   color: var(--header);
   opacity: 0;
   z-index: 5;
   animation: slideUp 0.4s ease-out 2s forwards;
   margin-bottom: 12px;
}

@keyframes slideUp {
   from {
      opacity: 0;
      transform: translateY(8px);
   }
   to {
      opacity: 1;
      transform: translateY(0);
   }
}

/* ── Player delta badges ─────────────────────────────────── */

.deltas {
   display: flex;
   gap: 14px;
   flex-wrap: wrap;
   justify-content: center;
   z-index: 5;
   opacity: 0;
   animation: slideUp 0.4s ease-out 2.2s forwards;
}

.deltaItem {
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 3px;
}

.deltaName {
   font-size: 0.75rem;
   font-weight: 600;
   color: var(--header);
   opacity: 0.7;
}

.deltaBadge {
   padding: 3px 10px;
   border-radius: 8px;
   font-size: 0.85rem;
   font-weight: 700;
   color: #fff;
   min-width: 36px;
   text-align: center;
}

.deltaPenalty {
   background: var(--cardredsuit);
}

.deltaShooter {
   background: hsl(150, 45%, 40%);
}

/* ── Continue button wrapper ─────────────────────────────── */

.continueWrap {
   margin-top: 14px;
   z-index: 5;
   opacity: 0;
   animation: slideUp 0.4s ease-out 2.5s forwards;
}
