# Dev image: Node + Vite dev server (source mounted at runtime for hot reload)
FROM node:20-alpine

WORKDIR /app

ARG FONTAWESOME_PACKAGE_TOKEN
ENV FONTAWESOME_PACKAGE_TOKEN=${FONTAWESOME_PACKAGE_TOKEN}

COPY package.json package-lock.json* ./
COPY .npmrc ./
RUN npm ci

CMD ["sh", "-c", "npm install && npm run dev -- --host 0.0.0.0"]
