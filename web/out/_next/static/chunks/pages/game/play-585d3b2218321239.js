(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{163:e=>{e.exports={backdrop:"InfoModal_backdrop__LRR9k",fadeIn:"InfoModal_fadeIn__ZDQxM",modal:"InfoModal_modal__M4x18",slideUp:"InfoModal_slideUp__bLGGx",title:"InfoModal_title__odQIr",row:"InfoModal_row__ngoCG",rowLabel:"InfoModal_rowLabel__EYCkm",divider:"InfoModal_divider__wNhOh",scoresGrid:"InfoModal_scoresGrid__OW6eq",scoreName:"InfoModal_scoreName__9HDNk",scoreValue:"InfoModal_scoreValue__Oo7zg",infoBtn:"InfoModal_infoBtn__ygi_W"}},221:e=>{e.exports={trick:"Trick_trick__V6NpZ",trickSlot:"Trick_trickSlot__79Ei1",trickSlotLabel:"Trick_trickSlotLabel__eFodS",trickSlotEmpty:"Trick_trickSlotEmpty__JMSKi",trickTable:"Trick_trickTable__hoXAN",trickTableSlot:"Trick_trickTableSlot__5YdLu",trickSlotCard:"Trick_trickSlotCard__v9GhX",trickTableSlotBottom:"Trick_trickTableSlotBottom__MbfHk",cardSlideUp:"Trick_cardSlideUp__HMcsk",trickTableSlotTop:"Trick_trickTableSlotTop__K6OZf",cardSlideDown:"Trick_cardSlideDown___iHyI",trickTableSlotLeft:"Trick_trickTableSlotLeft__OjF_M",cardSlideFromLeft:"Trick_cardSlideFromLeft__V7PIM",trickTableSlotRight:"Trick_trickTableSlotRight__wWOpE",cardSlideFromRight:"Trick_cardSlideFromRight__m8FPY",trickTableCenterIcon:"Trick_trickTableCenterIcon__UXZcy",centerIconFadeIn:"Trick_centerIconFadeIn__kV7FT"}},877:(e,a,t)=>{"use strict";t.d(a,{Z:()=>i});var r=t(7876);t(4232);var n=t(3673),l=t(7432),s=t(7643),o=t.n(s);let i=e=>{var a;let{code:t,selected:s=!1,disabled:i=!1,onClick:c,size:d="normal",className:u,styleOverride:h}=e,{cardStyle:m}=(0,n.t)(),{rank:_,suit:p}=function(e){let a=e.trim();if(!a||a.length<2)return{rank:"?",suit:"?"};let t=a.slice(-1).toLowerCase();return{rank:a.slice(0,-1),suit:t}}(t),x=l.mq.has(p),f=null!=(a=l.TT[p])?a:"?",y="flourish"===(null!=h?h:m);return(0,r.jsx)("button",{type:"button",className:[o().card,y?o().cardImage:"","medium"===d?o().cardMedium:"large"===d?o().cardLarge:"",s?o().cardSelected:"",i&&c?o().cardDisabled:"",null!=u?u:""].filter(Boolean).join(" "),onClick:()=>{!i&&c&&c()},disabled:i&&!!c,"aria-label":"Card ".concat(_," of ").concat(p),children:y?(0,r.jsx)("img",{src:"/cards/".concat(t,".png"),alt:"".concat(_," of ").concat(p),className:o().cardImg,draggable:!1}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:x?o().rankRed:o().rankBlack,children:_}),(0,r.jsx)("span",{className:x?o().suitRed:o().suitBlack,children:f})]})})}},1152:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ed});var r=t(7876),n=t(7328),l=t.n(n),s=t(8230),o=t.n(s),i=t(9099),c=t(4232),d=t(1633),u=t(877),h=t(9879),m=t.n(h);let _=e=>{let{players:a,winnerIndex:t}=e;return(0,r.jsxs)("div",{className:m().gameOverBlock,children:[(0,r.jsx)("p",{className:m().gameOverTitle,children:"Game Over"}),(0,r.jsxs)("table",{className:m().scoreTable,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Player"}),(0,r.jsx)("th",{children:"Score"})]})}),(0,r.jsx)("tbody",{children:[...a].map((e,a)=>({...e,idx:a})).sort((e,a)=>e.score-a.score).map(e=>(0,r.jsxs)("tr",{className:e.idx===t?m().scoreTableWinner:"",children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.score})]},e.idx))})]}),(0,r.jsx)(o(),{href:"/game/create",children:(0,r.jsx)(d.$,{name:"Create New Game",style:{width:"250px",marginTop:"16px"}})})]})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[a,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=window.matchMedia("(max-width: ".concat(e,"px)"));t(a.matches);let r=e=>t(e.matches);return a.addEventListener("change",r),()=>a.removeEventListener("change",r)},[e]),a}var x=t(2029),f=t.n(x);let y={top:f().gameTableSeatTop,left:f().gameTableSeatLeft,right:f().gameTableSeatRight,bottom:f().gameTableSeatBottom},g=e=>{let{name:a,shortName:t,seatIndex:n=0,score:l,position:s,isCurrentTurn:o,showHearts:i,heartCount:c,heartDelta:d,trickResultId:u}=e;if(p()){let e=null!=t?t:a;return(0,r.jsxs)("div",{className:"".concat(f().gameTableSeat," ").concat(y[s]," ").concat(f().gameTableSeatMobile," ").concat(f().seatMobileRow," ").concat(o?f().seatMobileTurn:""),children:[(0,r.jsx)("span",{className:f().seatBadge,children:e}),i&&(0,r.jsxs)("span",{className:f().seatMobileHearts,children:[(0,r.jsxs)("span",{className:f().seatMobileHeartCount,children:[" ","\xa0♥ ",c]}),d>0&&(0,r.jsxs)("span",{className:f().heartDeltaBadge,children:["+",d]},u)]})]})}return(0,r.jsxs)("div",{className:"".concat(f().gameTableSeat," ").concat(y[s]," ").concat(o?f().gameTableSeatYourTurn:""),children:[(0,r.jsx)("span",{className:f().gameTableSeatName,children:a}),(0,r.jsxs)("span",{className:f().gameTableSeatScore,children:[l,i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:f().seatScoreSep,children:" \xb7 "}),(0,r.jsxs)("span",{className:f().seatHeartCount,children:["♥ ",c]})]}),d>0&&(0,r.jsxs)("span",{className:f().heartDeltaBadge,children:["+",d]},u)]})]})};var v=t(5839),j=t.n(v);let k=e=>{let{cards:a,selectedCodes:t,legalCodes:n,onCardClick:l,selectionMode:s=!1,size:o="normal",exitingCodes:i,exitDirection:d,enteringCodes:h,enterDirection:m}=e,_=p(),x=c.useMemo(()=>[...a].sort(b),[a]),f=(x.length-1)/2,y=_?.2:.5,g=(e,a,t)=>{let n=a-f,l=Math.pow(Math.abs(n),2)*y,s=t;if((null==i?void 0:i.has(e))&&d){let e="left"===d?j().handExitLeft:"right"===d?j().handExitRight:j().handExitUp;s=(0,r.jsx)("div",{className:e,children:t})}else if((null==h?void 0:h.has(e))&&m){let e="left"===m?j().handEnterFromLeft:"right"===m?j().handEnterFromRight:j().handEnterFromAbove;s=(0,r.jsx)("div",{className:e,children:t})}return(0,r.jsx)("div",{className:j().handCardWrap,style:{transform:"translateY(".concat(l,"px) rotate(").concat(1.2*n,"deg)")},children:s},e)};return s&&t?(0,r.jsx)("div",{className:j().hand,role:"group","aria-label":"Your hand",children:x.map((e,a)=>g(e,a,(0,r.jsx)(u.Z,{code:e,selected:t.has(e),onClick:()=>null==l?void 0:l(e),size:o})))}):void 0!==n?(0,r.jsx)("div",{className:j().hand,role:"group","aria-label":"Your hand",children:x.map((e,a)=>g(e,a,(0,r.jsx)(u.Z,{code:e,disabled:!n.has(e),onClick:l?()=>l(e):void 0,size:o})))}):(0,r.jsx)("div",{className:j().hand,role:"group","aria-label":"Your hand",children:x.map((e,a)=>g(e,a,(0,r.jsx)(u.Z,{code:e,size:o})))})};function b(e,a){var t,r;let n={c:0,d:1,s:2,h:3},l=e.slice(-1).toLowerCase(),s=a.slice(-1).toLowerCase();if(n[l]!==n[s])return n[l]-n[s];let o={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14},i=e.slice(0,-1);return(null!=(t=o[a.slice(0,-1)])?t:0)-(null!=(r=o[i])?r:0)}var S=t(163),T=t.n(S);let N=e=>{let{round:a,passDirection:t,phase:n,players:l,onClose:s}=e;return(0,r.jsx)("div",{className:T().backdrop,onClick:s,children:(0,r.jsxs)("div",{className:T().modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("span",{className:T().title,children:["Round ",a]}),(0,r.jsx)("div",{className:T().row,children:(0,r.jsx)("span",{className:T().rowLabel,children:"none"===t?"No pass":"Pass ".concat(t)})}),(0,r.jsx)("div",{className:T().divider}),(0,r.jsx)("div",{className:T().scoresGrid,children:l.map((e,a)=>(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)("span",{className:T().scoreName,children:e.name}),(0,r.jsx)("span",{className:T().scoreValue,children:e.score})]},a))}),(0,r.jsx)(d.$,{name:"Close",onClick:s})]})})},C=e=>{let{onClick:a}=e;return(0,r.jsx)("button",{type:"button",className:T().infoBtn,onClick:a,"aria-label":"Round info",children:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[(0,r.jsx)("rect",{x:"2",y:"10",width:"3",height:"6",rx:"0.5"}),(0,r.jsx)("rect",{x:"7.5",y:"6",width:"3",height:"10",rx:"0.5"}),(0,r.jsx)("rect",{x:"13",y:"2",width:"3",height:"14",rx:"0.5"})]})})};var w=t(3849),M=t.n(w);let I=e=>{let{round:a,passDirection:t,phase:n}=e;return(0,r.jsxs)("div",{className:M().playInfoPill,children:[(0,r.jsxs)("span",{className:M().playInfoRound,children:["Round ",a]}),(0,r.jsx)("span",{className:M().playInfoDetail,children:"none"===t?"No pass":"Pass ".concat(t)}),(0,r.jsx)("span",{className:M().playInfoPhase,children:n})]})};var R=t(221),E=t.n(R),L=t(7432);let O=[{index:0,className:E().trickTableSlotBottom},{index:1,className:E().trickTableSlotLeft},{index:2,className:E().trickTableSlotTop},{index:3,className:E().trickTableSlotRight}],B=e=>{let{slots:a,playerNames:t,layout:n="row",centerIcon:l,collectTarget:s}=e,o=p(),i=null!=t?t:["You","Top","Left","Right"],d=(0,c.useRef)([null,null,null,null]);return((0,c.useEffect)(()=>{if(null==s)return;let e=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(e){case 0:return{0:{x:0,y:0},2:{x:0,y:190*a},1:{x:102*a,y:95*a,midX:61*a,midY:24*a},3:{x:-102*a,y:95*a,midX:-61*a,midY:24*a}};case 2:return{2:{x:0,y:0},0:{x:0,y:-190*a},1:{x:102*a,y:-95*a,midX:61*a,midY:-24*a},3:{x:-102*a,y:-95*a,midX:-61*a,midY:-24*a}};case 1:return{1:{x:0,y:0},3:{x:-204*a,y:0},0:{x:-102*a,y:-95*a,midX:-26*a,midY:-57*a},2:{x:-102*a,y:95*a,midX:-26*a,midY:57*a}};case 3:return{3:{x:0,y:0},1:{x:204*a,y:0},0:{x:102*a,y:-95*a,midX:26*a,midY:-57*a},2:{x:102*a,y:95*a,midX:26*a,midY:57*a}};default:return{}}}(s,o?.8:1),a=[];for(let t=0;t<4;t++){let r=d.current[t],n=e[t];if(!r||!n)continue;let l=null!=n.midX?[{opacity:1,transform:"translate(0, 0)"},{opacity:.5,transform:"translate(".concat(n.midX,"px, ").concat(n.midY,"px)"),offset:.4},{opacity:0,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}]:[{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}];a.push(r.animate(l,{duration:L.a7,easing:"ease-in",fill:"forwards"}))}return()=>a.forEach(e=>e.cancel())},[s,o]),"table"===n)?(0,r.jsxs)("div",{className:E().trickTable,role:"region","aria-label":"Current trick",children:[O.map(e=>{let{index:t,className:n}=e,l=a[t];return(0,r.jsxs)("div",{className:"".concat(E().trickTableSlot," ").concat(n),children:[(0,r.jsx)("div",{className:E().trickSlotEmpty,"aria-hidden":"true"}),l&&(0,r.jsx)("div",{ref:e=>{d.current[t]=e},className:E().trickSlotCard,children:(0,r.jsx)(u.Z,{code:l.card,size:o?"large":"medium"})})]},t)}),l&&(0,r.jsx)("div",{className:E().trickTableCenterIcon,"aria-hidden":"true",children:l})]}):(0,r.jsx)("div",{className:E().trick,role:"region","aria-label":"Current trick",children:a.map((e,a)=>(0,r.jsxs)("div",{className:E().trickSlot,children:[(0,r.jsx)("span",{className:E().trickSlotLabel,children:i[a]}),e?(0,r.jsx)(u.Z,{code:e.card,size:"medium"}):(0,r.jsx)("div",{className:E().trickSlotEmpty,"aria-hidden":"true"})]},a))})};var G=t(7494),D=t.n(G);let H={top:D().seatTop,left:D().seatLeft,right:D().seatRight,bottom:D().seatBottom},P=e=>{let{seats:a,trickSlots:t,collectTarget:n,playerNames:l,centerIcon:s}=e;return(0,r.jsxs)("div",{className:D().container,children:[a.map((e,a)=>(0,r.jsx)("div",{className:H[e.position],children:(0,r.jsx)(g,{...e})},a)),(0,r.jsx)("div",{className:D().trickCenter,children:(0,r.jsx)(B,{layout:"table",slots:t,collectTarget:n,playerNames:l,centerIcon:s})})]})},F=e=>{let{text:a}=e;return(0,r.jsx)("p",{className:m().phaseHint,style:a?void 0:{visibility:"hidden"},"aria-hidden":!a,children:null!=a?a:"\xa0"})},Y=e=>{let{summary:a,onContinue:t}=e;return(0,r.jsx)("div",{className:m().roundSummaryOverlay,children:(0,r.jsxs)("div",{className:m().roundSummaryBlock,children:[(0,r.jsxs)("p",{className:m().roundSummaryTitle,children:["Round ",a.round," Complete"]}),(0,r.jsxs)("table",{className:m().scoreTable,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Player"}),(0,r.jsx)("th",{children:"This Round"}),(0,r.jsx)("th",{children:"Total"})]})}),(0,r.jsx)("tbody",{children:a.players.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{className:m().scoreDelta,children:a.deltas[t]>0?"+".concat(a.deltas[t]):"0"}),(0,r.jsx)("td",{children:e.score})]},t))})]}),(0,r.jsx)(d.$,{name:"Continue",onClick:t,style:{width:"180px",marginTop:"16px"}})]})})};var A=t(195),W=t.n(A),U=t(6815),z=t.n(U);let X=e=>{var a;let{shooterIndex:t,players:n,deltas:l,onContinue:s}=e,o=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let e=setTimeout(()=>{o.current&&W().confetti(o.current,{count:W().variation.range(60,120)})},1500);return()=>clearTimeout(e)},[]),(0,r.jsxs)("div",{className:z().overlay,children:[(0,r.jsxs)("span",{className:z().moon,"aria-hidden":!0,children:[(0,r.jsx)("span",{className:z().moonLight,children:"\uD83C\uDF15"}),(0,r.jsx)("span",{className:z().moonDark,children:"\uD83C\uDF19"})]}),(0,r.jsx)("div",{className:z().rocketWrap,"aria-hidden":!0,children:(0,r.jsx)("span",{className:z().rocket,children:"\uD83D\uDE80"})}),(0,r.jsx)("div",{className:z().explosion,"aria-hidden":!0}),(0,r.jsx)("div",{ref:o,className:z().confettiAnchor}),(0,r.jsx)("p",{className:z().title,children:"Shot the Moon!"}),(0,r.jsxs)("p",{className:z().shooterName,children:[null==(a=n[t])?void 0:a.name," took all the hearts!"]}),(0,r.jsx)("div",{className:z().deltas,children:n.map((e,a)=>(0,r.jsxs)("div",{className:z().deltaItem,children:[(0,r.jsx)("span",{className:z().deltaName,children:e.name}),(0,r.jsx)("span",{className:"".concat(z().deltaBadge," ").concat(a===t?z().deltaShooter:z().deltaPenalty),children:a===t?"0":"+".concat(l[a])})]},a))}),(0,r.jsx)("div",{className:z().continueWrap,children:(0,r.jsx)(d.$,{name:"Continue",onClick:s,style:{width:"180px"}})})]})};var q=t(3907);function J(e){return e.slice(-1).toLowerCase()}function V(e){var a;return null!=(a=L.El[e.slice(0,-1)])?a:0}var Z=t(6775),$=t(8070),K=t(2692),Q=t(2022);let ee=null,ea=null,et=[],er=[],en=[],el=[];function es(){ee&&(ee.removeAllListeners(),ee.connected&&ee.disconnect(),ee=null),ea=null}function eo(){var e;return null!=(e=null==ee?void 0:ee.connected)&&e}function ei(e){return e.length<4?e:[e[0],e[2],e[1],e[3]]}function ec(e){let a=e.trim(),t=a.match(/^AI\s*(\d+)$/i);if(t)return"A".concat(t[1]);let r=a.match(/^Guest\s*(\d+)$/i);return r?"G".concat(r[1]):"You"===a?"Y":a.charAt(0).toUpperCase()}function ed(){var e,a,t,n,s,u,h,x,f,y,v,b,S,T,w,M,R,E,O,G,D,H,A,W,U,z,ed,eu,eh,em,e_,ep,ex;let{game_id:ef}=(0,i.useRouter)().query,{token:ey}=(0,$.A)(),eg=p(),ev=(0,c.useRef)(0),ej=(0,c.useRef)(!1),[ek,eb]=(0,c.useState)(!0),[eS,eT]=(0,c.useState)(!1),[eN,eC]=(0,c.useState)(null),[ew,eM]=(0,c.useState)(null),[eI,eR]=(0,c.useState)(!1),[eE,eL]=(0,c.useState)(!1),[eO,eB]=(0,c.useState)(new Set),[eG,eD]=(0,c.useState)(null),[eH,eP]=(0,c.useState)(null),[eF,eY]=(0,c.useState)(null),[eA,eW]=(0,c.useState)([0,0,0,0]),[eU,ez]=(0,c.useState)(!1),[eX,eq]=(0,c.useState)(null),[eJ,eV]=(0,c.useState)(!1),eZ=(0,c.useRef)(null),e$=(0,c.useRef)(null),eK=(0,c.useRef)(!1),eQ=(0,c.useRef)(eN);eQ.current=eN;let e0=(0,c.useRef)([0,0,0,0]),e1=(0,c.useRef)(null),e2=(0,c.useRef)(eD);e2.current=eD;let e3=(0,c.useRef)(eY);e3.current=eY;let e5=(0,c.useCallback)(()=>{let e=eZ.current;if(e){if(eZ.current=null,eK.current=!1,e.round_just_ended){var a,t;let r=e.players.map((e,a)=>e.score-e0.current[a]);e0.current=e.players.map(e=>e.score),e1.current=e;let n=null!=(t=null==(a=eQ.current)?void 0:a.round)?t:1,l=e.players.map(e=>({name:e.name,score:e.score})),s=r.filter(e=>0===e).length,o=r.filter(e=>26===e).length;if(1===s&&3===o){let e=r.indexOf(0);0===e&&(ev.current+=1),e3.current({shooterIndex:e,deltas:r,round:n,players:l})}else e3.current(null);e2.current({deltas:r,round:n,players:l});return}eC(e),e0.current=e.players.map(e=>e.score),"passing"===e.phase&&as.current()}},[]),e4=(0,c.useRef)(e5);e4.current=e5;let{displaySlots:e6,busy:e8,currentTurn:e7,trickResult:e9,collectTarget:ae,enqueue:aa,showImmediately:at,setSlots:ar,reset:an,isActive:al}=function(e){let{onIdle:a}=e,[t,r]=(0,c.useState)(L.yU),[n,l]=(0,c.useState)(!1),[s,o]=(0,c.useState)(null),[i,d]=(0,c.useState)(null),[u,h]=(0,c.useState)(null),m=(0,c.useRef)([]),_=(0,c.useRef)(!1),p=(0,c.useRef)(null),x=(0,c.useRef)(a);x.current=a;let f=(0,c.useRef)([]),y=(0,c.useRef)(0),g=(0,c.useCallback)(()=>{let e=m.current;if(0===e.length){_.current=!1,l(!1),o(null),x.current();return}let a=e[0];if("play"===a.type)o(a.event.player_index),p.current=setTimeout(()=>{e.shift(),f.current.push(a.event),r(e=>{let t=[...e],r=a.event.player_index;return r>=0&&r<4&&(t[r]={player_index:r,card:a.event.card}),t}),g()},L.G2);else if("trick_complete"===a.type){e.shift();let a=function(e){if(e.length<4)return null;let a=J(e[0].card),t=e[0],r=V(e[0].card);for(let n=1;n<e.length;n++)if(J(e[n].card)===a){let a=V(e[n].card);a>r&&(r=a,t=e[n])}let n=0;for(let a of e)"h"===J(a.card)?n+=1:"qs"===a.card.toLowerCase()&&(n+=13);return{winner:t.player_index,hearts:n}}(f.current);f.current=[],p.current=setTimeout(()=>{a&&(h(a.winner),a.hearts>0&&d({...a,id:++y.current})),p.current=setTimeout(()=>{h(null),r(L.yU),o(null),p.current=setTimeout(()=>{d(null),p.current=setTimeout(g,L.vi)},a&&a.hearts>0?L.Bj:0)},L.Ov)},L.dy)}},[]),v=(0,c.useCallback)(()=>{_.current||0!==m.current.length&&(_.current=!0,l(!0),g())},[g]),j=(0,c.useCallback)(e=>{m.current.push(e),v()},[v]),k=(0,c.useCallback)(e=>{f.current.push(e),r(a=>{let t=[...a],r=e.player_index;return r>=0&&r<4&&(t[r]={player_index:r,card:e.card}),t}),o(e.player_index)},[]),b=(0,c.useCallback)(e=>{r(e)},[]);return{displaySlots:t,busy:n,currentTurn:s,trickResult:i,collectTarget:u,enqueue:j,showImmediately:k,setSlots:b,reset:(0,c.useCallback)(()=>{p.current&&(clearTimeout(p.current),p.current=null),m.current=[],_.current=!1,f.current=[],l(!1),o(null),d(null),h(null),r(L.yU)},[]),isActive:(0,c.useCallback)(()=>_.current,[])}}({onIdle:(0,c.useCallback)(()=>{e4.current()},[])}),as=(0,c.useRef)(an);as.current=an;let ao=(0,c.useRef)(e8);ao.current=e8;let ai=(0,c.useCallback)((e,a,t)=>{let r=a;for(let a=0;a<e.length;a++){if(t&&0===a){4===r&&(aa({type:"trick_complete"}),r=0);continue}aa({type:"play",event:e[a]}),4==++r&&(aa({type:"trick_complete"}),r=0)}return r},[aa]);(0,c.useEffect)(()=>{if("string"==typeof ef&&ef)return!function(e){if(ea===e&&(null==ee?void 0:ee.connected))return;es();let a=(0,Q.e)();ea=e,(ee=(0,K.io)("".concat(a,"/game"),{path:"/socket.io",query:{game_id:e},transports:["websocket","polling"],autoConnect:!0})).on("play",e=>{et.forEach(a=>a(e))}),ee.on("trick_complete",()=>{er.forEach(e=>e())}),ee.on("state",e=>{en.forEach(a=>a(e))}),ee.on("error",e=>{let a="string"==typeof(null==e?void 0:e.message)?e.message:"WebSocket error";el.forEach(e=>e(a))})}(ef),()=>es()},[ef]),(0,c.useEffect)(()=>{var e,a,t,r;let n=(e=e=>{if(0===e.player_index&&e.card===e$.current){e$.current=null;return}aa({type:"play",event:e})},et.push(e),()=>{let a=et.indexOf(e);-1!==a&&et.splice(a,1)}),l=(a=()=>{aa({type:"trick_complete"})},er.push(a),()=>{let e=er.indexOf(a);-1!==e&&er.splice(e,1)}),s=(t=e=>{if(eK.current=!1,eZ.current=e,e.round_just_ended){al()||e4.current();return}ao.current||e4.current()},en.push(t),()=>{let e=en.indexOf(t);-1!==e&&en.splice(e,1)}),o=(r=e=>{eM(e)},el.push(r),()=>{let e=el.indexOf(r);-1!==e&&el.splice(e,1)});return()=>{n(),l(),s(),o()}},[aa,al]),(0,c.useEffect)(()=>{if("string"!=typeof ef||!ef)return void eb(!1);let e=!1;return eb(!0),eT(!1),eM(null),(0,Z.c8)(ef).then(a=>{if(e)return;if(!a.ok){a.notFound?eT(!0):eM(a.error),eb(!1);return}let t=a.data;if(eC(t),eb(!1),e0.current=t.players.map(e=>e.score),eq({round:t.round}),"playing"===t.phase&&t.current_trick){let e=[null,null,null,null];for(let a of t.current_trick)a&&"number"==typeof a.player_index&&a.player_index>=0&&a.player_index<4&&(e[a.player_index]=a);ar(e)}}).catch(a=>{e||(eM(a instanceof Error?a.message:"Failed to load game"),eb(!1))}),()=>{e=!0}},[ef,ar]),(0,c.useEffect)(()=>{var e,a;if(!(null==eN?void 0:eN.game_over)||ej.current||!ey||"string"!=typeof ef)return;ej.current=!0;let t=null!=(a=null==(e=eN.players[0])?void 0:e.score)?a:0,r=0===eN.winner_index;(0,Z.Ll)(ey,{game_id:ef,final_score:t,won:r,moon_shots:ev.current})},[null==eN?void 0:eN.game_over,null==eN?void 0:eN.winner_index,null==eN?void 0:eN.players,ey,ef]),(0,c.useEffect)(()=>{if("string"==typeof ef&&ef&&eN&&"playing"===eN.phase&&!eN.game_over&&0!==eN.whose_turn&&!ek&&!e8&&!eU&&!eK.current)if(eK.current=!0,eo())(null==ee?void 0:ee.connected)&&ee.emit("advance");else{var e,a,t;let r=null!=(t=null==(a=eQ.current)||null==(e=a.current_trick)?void 0:e.filter(Boolean).length)?t:0;(0,Z.dV)(ef).then(e=>{var a;if(!e.ok){eM(e.error),eK.current=!1;return}let t=null!=(a=e.data.intermediate_plays)?a:[],n=ai(t,r,!1);eZ.current=e.data,e.data.round_just_ended&&0!==n&&aa({type:"trick_complete"}),0!==t.length||e.data.round_just_ended||e4.current()}).catch(e=>{eM(e instanceof Error?e.message:"Failed to advance game"),eK.current=!1})}},[ef,null==eN?void 0:eN.phase,null==eN?void 0:eN.whose_turn,null==eN?void 0:eN.game_over,ek,e8,eU,aa,ai]),(0,c.useEffect)(()=>{if(!eX)return;let e=setTimeout(()=>{eq(null),eV(!0)},1e3);return()=>clearTimeout(e)},[eX]),(0,c.useEffect)(()=>{if(!eJ)return;let e=setTimeout(()=>eV(!1),350);return()=>clearTimeout(e)},[eJ]);let ac=null==eN?void 0:eN.round,[ad,au]=(0,c.useState)(!1);(0,c.useEffect)(()=>{eW([0,0,0,0]),au(!1)},[ac]),(0,c.useEffect)(()=>{e6.some(e=>e&&(e.card.toLowerCase().endsWith("h")||"qs"===e.card.toLowerCase()))&&au(!0)},[e6]),(0,c.useEffect)(()=>{e9&&e9.hearts>0&&eW(e=>{let a=[...e];return a[e9.winner]+=e9.hearts,a})},[e9]);let ah=(0,c.useCallback)(e=>{eB(a=>{let t=new Set(a);return t.has(e)?t.delete(e):t.size<3&&t.add(e),t})},[]),am=(0,c.useCallback)(()=>{if("string"!=typeof ef||3!==eO.size)return;let e=eQ.current;if(!e)return;let a=e.pass_direction,t="left"===a?"right":"right"===a?"left":"above",r=[...e.human_hand],n=new Set(eO),l=Array.from(eO);eR(!0),eB(new Set),eP({phase:"exiting",displayHand:r,exitingCodes:n,exitDir:"left"===a?"left":"right"===a?"right":"up"}),Promise.all([(0,Z.Y5)(ef,{cards:l}),new Promise(e=>setTimeout(e,400))]).then(e=>{let[a]=e;if(!a.ok){eM(a.error),eP(null),eR(!1);return}let l=a.data.human_hand,s=r.filter(e=>!n.has(e)),o=new Set(s),i=new Set(l.filter(e=>!o.has(e)));eP({phase:"gap",displayHand:s}),setTimeout(()=>{eP({phase:"entering",displayHand:l,enteringCodes:i,enterDir:t}),setTimeout(()=>{eP(null),eC(a.data),eR(!1),an()},1600)},500)}).catch(e=>{eM(e instanceof Error?e.message:"Submit failed"),eP(null),eR(!1)})},[ef,eO,an]),a_=(0,c.useCallback)(()=>{let e=e1.current;e1.current=null,eD(null),eY(null),e&&(eC(e),e0.current=e.players.map(e=>e.score),eq({round:e.round}),"passing"===e.phase&&an(),"none"===e.pass_direction&&(ez(!0),setTimeout(()=>ez(!1),2500)))},[an]),ap=(0,c.useCallback)(e=>{var a,t,r;if("string"!=typeof ef)return;let n=null!=(r=null==(t=eQ.current)||null==(a=t.current_trick)?void 0:a.filter(Boolean).length)?r:0;(at({player_index:0,card:e}),e$.current=e,eC(a=>a?{...a,human_hand:a.human_hand.filter(a=>a!==e),legal_plays:[]}:a),eo())?(null==ee?void 0:ee.connected)&&ee.emit("play",{card:e}):(0,Z.F$)(ef,{card:e}).then(e=>{var a;if(!e.ok)return void eM(e.error);let t=null!=(a=e.data.intermediate_plays)?a:[],r=ai(t,n+1,!0);eZ.current=e.data,e.data.round_just_ended&&0!==r&&aa({type:"trick_complete"}),t.length<=1&&!e.data.round_just_ended&&e4.current()}).catch(e=>{eM(e instanceof Error?e.message:"Play failed")})},[ef,at,aa,ai]);if("string"!=typeof ef||!ef)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Play Game | Hearts"})}),(0,r.jsxs)(q.Mx,{title:"PLAY GAME",hideTitleBlock:!0,className:L.JE,children:[(0,r.jsx)("p",{children:"No game specified."}),(0,r.jsxs)(q.e2,{className:"pt-4",children:[(0,r.jsx)(o(),{href:"/game/create",children:(0,r.jsx)(d.$,{name:"Create Game",style:{width:"250px"}})}),(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(d.$,{name:"Home",style:{width:"250px"}})})]})]})]});if(ek)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Play Game | Hearts"})}),(0,r.jsx)(q.Mx,{title:"PLAY GAME",hideTitleBlock:!0,className:L.JE,children:(0,r.jsxs)("div",{className:"animate-pulse flex flex-col gap-4 w-full max-w-md",children:[(0,r.jsx)("div",{className:"h-8 bg-mediumpink rounded w-1/3"}),(0,r.jsx)("div",{className:"h-24 bg-mediumpink rounded"}),(0,r.jsx)("div",{className:"h-32 bg-mediumpink rounded"})]})})]});if(eS)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Game Not Found | Hearts"})}),(0,r.jsxs)(q.Mx,{title:"PLAY GAME",hideTitleBlock:!0,className:L.JE,children:[(0,r.jsx)("p",{children:"Game not found."}),(0,r.jsxs)(q.e2,{className:"pt-4",children:[(0,r.jsx)(o(),{href:"/game/create",children:(0,r.jsx)(d.$,{name:"Create Game",style:{width:"200px"}})}),(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(d.$,{name:"Home",style:{width:"200px"}})})]})]})]});if(ew)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Play Game | Hearts"})}),(0,r.jsxs)(q.Mx,{title:"PLAY GAME",hideTitleBlock:!0,className:L.JE,children:[(0,r.jsx)("p",{className:"text-red-600",role:"alert",children:ew}),(0,r.jsxs)(q.e2,{className:"pt-4",children:[(0,r.jsx)(o(),{href:"/game/create",children:(0,r.jsx)(d.$,{name:"Create New Game",style:{width:"250px"}})}),(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(d.$,{name:"Home",style:{width:"250px"}})})]})]})]});let ax=e8?e7:null!=(R=null==eN?void 0:eN.whose_turn)?R:null,af=(null==eN?void 0:eN.phase)==="playing"&&!eG&&!(null==eN?void 0:eN.game_over),ay=e=>!eG&&(null==eN?void 0:eN.phase)==="playing"&&!(null==eN?void 0:eN.game_over)&&ax===e,ag=e=>{var a,t,r,n;return eG?null!=(r=null==(a=eG.players[e])?void 0:a.score)?r:0:null!=(n=null==eN||null==(t=eN.players[e])?void 0:t.score)?n:0},av=e=>e9&&e9.winner===e?e9.hearts:0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Play Game | Hearts"})}),(0,r.jsx)(q.Mx,{title:"PLAY GAME",hideTitleBlock:!0,className:L.JE,children:eN&&(0,r.jsxs)("div",{className:m().playContent,children:[!eG&&!eg&&(0,r.jsx)(I,{round:eN.round,passDirection:eN.pass_direction,phase:eN.phase}),!eG&&eg&&(0,r.jsx)(C,{onClick:()=>eL(!0)}),eE&&eg&&(0,r.jsx)(N,{round:eN.round,passDirection:eN.pass_direction,phase:eN.phase,players:eN.players,onClose:()=>eL(!1)}),(0,r.jsxs)("div",{className:m().gameTableWrapper,children:[eg?(0,r.jsx)(P,{seats:[{name:null!=(E=null==(e=eN.players[0])?void 0:e.name)?E:"You",shortName:ec(null!=(O=null==(a=eN.players[0])?void 0:a.name)?O:"You"),seatIndex:0,score:ag(0),position:"bottom",isCurrentTurn:ay(0),showHearts:!!af,heartCount:eA[0],heartDelta:av(0),trickResultId:null==e9?void 0:e9.id},{name:null!=(G=null==(t=eN.players[1])?void 0:t.name)?G:"—",shortName:ec(null!=(D=null==(n=eN.players[1])?void 0:n.name)?D:"—"),seatIndex:1,score:ag(1),position:"left",isCurrentTurn:ay(1),showHearts:!!af,heartCount:eA[1],heartDelta:av(1),trickResultId:null==e9?void 0:e9.id},{name:null!=(H=null==(s=eN.players[2])?void 0:s.name)?H:"—",shortName:ec(null!=(A=null==(u=eN.players[2])?void 0:u.name)?A:"—"),seatIndex:2,score:ag(2),position:"top",isCurrentTurn:ay(2),showHearts:!!af,heartCount:eA[2],heartDelta:av(2),trickResultId:null==e9?void 0:e9.id},{name:null!=(W=null==(h=eN.players[3])?void 0:h.name)?W:"—",shortName:ec(null!=(U=null==(x=eN.players[3])?void 0:x.name)?U:"—"),seatIndex:3,score:ag(3),position:"right",isCurrentTurn:ay(3),showHearts:!!af,heartCount:eA[3],heartDelta:av(3),trickResultId:null==e9?void 0:e9.id}],trickSlots:e6,collectTarget:ae,playerNames:ei(eN.players.map(e=>e.name)),centerIcon:eG||"playing"!==eN.phase?void 0:(0,r.jsx)("span",{"aria-hidden":!0,style:{fontSize:"50px",marginTop:"-10px",color:ad?"hsl(0, 65%, 50%)":"var(--darkpink)",transition:"color 0.5s ease"},children:"♥"})}):(0,r.jsxs)("div",{className:m().gameTable,children:[(0,r.jsx)(g,{name:null!=(z=null==(f=eN.players[2])?void 0:f.name)?z:"—",shortName:ec(null!=(ed=null==(y=eN.players[2])?void 0:y.name)?ed:"—"),seatIndex:2,score:ag(2),position:"top",isCurrentTurn:ay(2),showHearts:!!af,heartCount:eA[2],heartDelta:av(2),trickResultId:null==e9?void 0:e9.id}),(0,r.jsx)(g,{name:null!=(eu=null==(v=eN.players[1])?void 0:v.name)?eu:"—",shortName:ec(null!=(eh=null==(b=eN.players[1])?void 0:b.name)?eh:"—"),seatIndex:1,score:ag(1),position:"left",isCurrentTurn:ay(1),showHearts:!!af,heartCount:eA[1],heartDelta:av(1),trickResultId:null==e9?void 0:e9.id}),(0,r.jsx)("div",{className:m().tableCenter,children:(0,r.jsx)(B,{layout:"table",slots:e6,collectTarget:ae,playerNames:ei(eN.players.map(e=>e.name)),centerIcon:eG||"playing"!==eN.phase?void 0:(0,r.jsx)("span",{"aria-hidden":!0,style:{fontSize:"50px",marginTop:"-10px",color:ad?"hsl(0, 65%, 50%)":"var(--darkpink)",transition:"color 0.5s ease"},children:"♥"})})}),(0,r.jsx)(g,{name:null!=(em=null==(S=eN.players[3])?void 0:S.name)?em:"—",shortName:ec(null!=(e_=null==(T=eN.players[3])?void 0:T.name)?e_:"—"),seatIndex:3,score:ag(3),position:"right",isCurrentTurn:ay(3),showHearts:!!af,heartCount:eA[3],heartDelta:av(3),trickResultId:null==e9?void 0:e9.id}),(0,r.jsx)(g,{name:null!=(ep=null==(w=eN.players[0])?void 0:w.name)?ep:"You",shortName:ec(null!=(ex=null==(M=eN.players[0])?void 0:M.name)?ex:"You"),seatIndex:0,score:ag(0),position:"bottom",isCurrentTurn:ay(0),showHearts:!!af,heartCount:eA[0],heartDelta:av(0),trickResultId:null==e9?void 0:e9.id})]}),!eG&&!eX&&!eJ&&"passing"===eN.phase&&!eH&&(0,r.jsx)("div",{className:m().passCenter,children:(0,r.jsxs)(d.$,{name:"Submit Pass",disabled:3!==eO.size||eI,onClick:am,style:{height:"52px",width:"110px",lineHeight:"1.2",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)("span",{children:"submit"}),(0,r.jsx)("span",{children:"pass"})]})}),eG&&eF&&(0,r.jsx)(X,{...eF,onContinue:a_}),eG&&!eF&&(0,r.jsx)(Y,{summary:eG,onContinue:a_}),eX&&!eG&&(0,r.jsx)("div",{className:m().roundBannerOverlay,children:(0,r.jsxs)("span",{className:m().roundBannerText,children:["Round ",eX.round]})})]}),(0,r.jsx)(F,{text:eG||eX||eJ||eN.game_over?null:eU?eg?null:"No passing this round":"playing"===eN.phase?eg?null:e8?"Playing…":0===eN.whose_turn?"Your turn":"Waiting for others…":"passing"!==eN.phase||eH?null:"Select 3 cards to pass ".concat(eN.pass_direction,".")}),(eG||eX)&&!eH&&(0,r.jsx)("div",{className:j().hand,"aria-hidden":"true",children:(0,r.jsx)("div",{className:j().handCardWrap,children:(0,r.jsx)("div",{className:j().handSlotEmpty})},0)}),eH&&(0,r.jsx)(k,{cards:eH.displayHand,selectedCodes:"exiting"===eH.phase?eH.exitingCodes:void 0,selectionMode:"exiting"===eH.phase,exitingCodes:"exiting"===eH.phase?eH.exitingCodes:void 0,exitDirection:eH.exitDir,enteringCodes:"entering"===eH.phase?eH.enteringCodes:void 0,enterDirection:eH.enterDir}),eJ&&!eG&&(0,r.jsxs)("div",{className:j().handStack,children:[(0,r.jsx)("div",{className:j().hand,"aria-hidden":"true",children:(0,r.jsx)("div",{className:j().handCardWrap,children:(0,r.jsx)("div",{className:j().handSlotEmpty})})}),(0,r.jsx)("div",{className:j().handDealIn,children:(0,r.jsx)(k,{cards:eN.human_hand})})]}),!eG&&!eX&&!eJ&&"passing"===eN.phase&&!eH&&(0,r.jsx)(k,{cards:eN.human_hand,selectedCodes:eO,onCardClick:eI?void 0:ah,selectionMode:!0}),!eG&&!eX&&!eJ&&"playing"===eN.phase&&(0,r.jsxs)("div",{className:j().handStack,children:[(0,r.jsx)("div",{className:j().hand,"aria-hidden":"true",children:(0,r.jsx)("div",{className:j().handCardWrap,children:(0,r.jsx)("div",{className:j().handSlotEmpty})})}),eN.human_hand.length>0&&(0,r.jsx)(k,{cards:eN.human_hand,legalCodes:new Set(eN.legal_plays),onCardClick:e8||0!==eN.whose_turn||eN.game_over?void 0:ap})]}),eN.game_over&&!eG&&(0,r.jsx)(_,{players:eN.players,winnerIndex:eN.winner_index})]})})]})}},1366:e=>{e.exports={toggleLabel:"Toggle_toggleLabel__urx0r",checked:"Toggle_checked__t8K00",track:"Toggle_track__tqFW5",toggleInput:"Toggle_toggleInput__Vzor3",thumb:"Toggle_thumb__ebdZ8"}},2029:e=>{e.exports={gameTableSeat:"GameSeat_gameTableSeat__IXupH",gameTableSeatBottom:"GameSeat_gameTableSeatBottom__oXnuy",gameTableSeatTop:"GameSeat_gameTableSeatTop__AKgdE",gameTableSeatLeft:"GameSeat_gameTableSeatLeft__yFjeT",gameTableSeatRight:"GameSeat_gameTableSeatRight__hMZp0",gameTableSeatName:"GameSeat_gameTableSeatName__M1Q5o",gameTableSeatScore:"GameSeat_gameTableSeatScore__47ASL",gameTableSeatYourTurn:"GameSeat_gameTableSeatYourTurn__IuB_e",seatScoreSep:"GameSeat_seatScoreSep__PYi5V",seatHeartCount:"GameSeat_seatHeartCount__tPLdG",heartDeltaBadge:"GameSeat_heartDeltaBadge__0iKPF",heartDeltaPop:"GameSeat_heartDeltaPop__gc2sn",gameTableSeatMobile:"GameSeat_gameTableSeatMobile__zAz4D",seatBadge:"GameSeat_seatBadge__y1yaK",seatMobileRow:"GameSeat_seatMobileRow__pmEnw",seatMobileCol:"GameSeat_seatMobileCol___w9nr",seatMobileHearts:"GameSeat_seatMobileHearts__CTKGd",seatMobileTurn:"GameSeat_seatMobileTurn__z5HRS",seatMobileHeartCount:"GameSeat_seatMobileHeartCount__1IBpu"}},3849:e=>{e.exports={playInfoPill:"InfoPill_playInfoPill__9QwkI",playInfoRound:"InfoPill_playInfoRound__RLiIP",playInfoDetail:"InfoPill_playInfoDetail__y95sc",playInfoPhase:"InfoPill_playInfoPhase___tJMw"}},3907:(e,a,t)=>{"use strict";t.d(a,{e2:()=>l,Kw:()=>s,MG:()=>o,Mx:()=>m,l6:()=>p,lM:()=>y});var r=t(7876);t(4232);let n={tight:"pt-4",default:"pt-6",loose:"pt-10"},l=e=>{let{children:a,className:t="",padding:l="default"}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-4 ".concat(n[l]," ").concat(t).trim(),children:a})},s=e=>{let{children:a,className:t=""}=e;return(0,r.jsx)("span",{className:"text-warningicon text-sm ".concat(t).trim(),children:a})},o=e=>{let{children:a,className:t="",...n}=e;return(0,r.jsx)("form",{className:"flex flex-col gap-4 max-w-[280px] mt-5 ".concat(t).trim(),...n,children:a})};var i=t(6825),c=t.n(i),d=t(7896),u=t(6736),h=t(156);let m=e=>{let{title:a,children:t,variant:n="default",contentClassName:l,className:s,hideTitleBlock:o=!1}=e;return(0,r.jsxs)("div",{className:"menu"===n?"w-full max-w-[1030px] mx-auto p-9 pb-[120px] box-border mt-5 mb-5 bg-transparent":c()["content-border-container"],children:[(0,r.jsx)(d.F,{}),(0,r.jsxs)(h.P.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25,ease:"easeOut"},className:"flex flex-col items-center justify-center ".concat(o?"mt-2 sm:mt-6":"mt-[50px] sm:mt-[140px]"," ").concat(null!=l?l:"").trim(),children:[!o&&(0,r.jsxs)("div",{className:c()["title-container"],children:[(0,r.jsx)(u.f,{size:212}),(0,r.jsx)("h1",{children:a})]}),(0,r.jsx)("div",{className:null!=s?s:"mt-8 w-full px-2 flex flex-col items-center justify-center text-center sm:mt-10",children:t})]})]})},_=e=>{let{className:a}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",className:a,"aria-hidden":!0,children:(0,r.jsx)("path",{fill:"currentColor",d:"M6 8L1 3h10z"})})};function p(e){let{value:a,onChange:t,options:n,disabled:l=!1,id:s,"aria-label":o,className:i}=e,c=String(a);return(0,r.jsxs)("div",{className:"relative inline-block min-w-[72px] ".concat(null!=i?i:"").trim(),children:[(0,r.jsx)("select",{id:s,className:"w-full cursor-pointer appearance-none rounded-xl border border-[var(--inputboxborder)] bg-[var(--inputbox)] py-2.5 pl-3.5 pr-8 text-[15px] font-semibold tracking-wide text-[var(--header)] transition-[border-color,box-shadow] focus:border-[var(--radiobutton)] focus:outline-none focus:ring-2 focus:ring-[var(--radiobutton)]/25 disabled:cursor-not-allowed disabled:opacity-40",value:c,onChange:e=>{let a=n.find(a=>String(a.value)===e.target.value);a&&t(a.value)},disabled:l,"aria-label":o,children:n.map(e=>(0,r.jsx)("option",{value:String(e.value),children:e.label},String(e.value)))}),(0,r.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[var(--header)]",children:(0,r.jsx)(_,{})})]})}var x=t(1366),f=t.n(x);let y=e=>{let{checked:a,onCheckedChange:t,disabled:n=!1,"aria-label":l,className:s}=e;return(0,r.jsxs)("label",{className:"".concat(f().toggleLabel," ").concat(a?f().checked:""," ").concat(null!=s?s:"").trim(),children:[(0,r.jsx)("input",{type:"checkbox",className:f().toggleInput,checked:a,onChange:e=>t(e.target.checked),disabled:n,"aria-label":l}),(0,r.jsx)("span",{className:f().track}),(0,r.jsx)("span",{className:f().thumb,"aria-hidden":!0})]})}},5839:e=>{e.exports={hand:"Hand_hand__fapcT",handCardWrap:"Hand_handCardWrap__nwVoo",handSlotEmpty:"Hand_handSlotEmpty__k2_Sl",handStack:"Hand_handStack__EQi8b",handDealIn:"Hand_handDealIn__T127S",handExitLeft:"Hand_handExitLeft__1b70K",handExitRight:"Hand_handExitRight__ZzSxJ",handExitUp:"Hand_handExitUp__ls5Bg",handEnterFromLeft:"Hand_handEnterFromLeft___sab6",handEnterFromRight:"Hand_handEnterFromRight__HJFx9",handEnterFromAbove:"Hand_handEnterFromAbove__fbjMr",handEnterBorderPulse:"Hand_handEnterBorderPulse__axtvO"}},6775:(e,a,t)=>{"use strict";t.d(a,{F$:()=>d,Ll:()=>h,Y5:()=>i,YK:()=>u,c8:()=>o,dV:()=>c,zj:()=>s});var r=t(2022);let n=()=>(0,r.e)();async function l(e){return await e.json().catch(()=>({}))}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=await fetch("".concat(n(),"/games/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await l(a);if(!a.ok){var r;return{ok:!1,error:null!=(r=t.error)?r:"Request failed (".concat(a.status,")")}}return{ok:!0,data:t}}async function o(e){var a,t;let r=await fetch("".concat(n(),"/games/").concat(encodeURIComponent(e))),s=await l(r);return 404===r.status?{ok:!1,error:null!=(a=s.error)?a:"Game not found",notFound:!0}:r.ok?{ok:!0,data:s}:{ok:!1,error:null!=(t=s.error)?t:"Request failed (".concat(r.status,")")}}async function i(e,a){var t,r;let s=await fetch("".concat(n(),"/games/").concat(encodeURIComponent(e),"/pass"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o=await l(s);return 404===s.status?{ok:!1,error:null!=(t=o.error)?t:"Game not found",notFound:!0}:s.ok?{ok:!0,data:o}:{ok:!1,error:null!=(r=o.error)?r:"Request failed (".concat(s.status,")")}}async function c(e){var a,t;let r=await fetch("".concat(n(),"/games/").concat(encodeURIComponent(e),"/advance"),{method:"POST"}),s=await l(r);return 404===r.status?{ok:!1,error:null!=(a=s.error)?a:"Game not found",notFound:!0}:r.ok?{ok:!0,data:s}:{ok:!1,error:null!=(t=s.error)?t:"Request failed (".concat(r.status,")")}}async function d(e,a){var t,r;let s=await fetch("".concat(n(),"/games/").concat(encodeURIComponent(e),"/play"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o=await l(s);return 404===s.status?{ok:!1,error:null!=(t=o.error)?t:"Game not found",notFound:!0}:s.ok?{ok:!0,data:o}:{ok:!1,error:null!=(r=o.error)?r:"Request failed (".concat(s.status,")")}}async function u(e){let a=await fetch("".concat(n(),"/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await l(a);if(!a.ok){var r;return{ok:!1,error:null!=(r=t.error)?r:"Request failed (".concat(a.status,")")}}return{ok:!0,data:t.stats}}async function h(e,a){let t=await fetch("".concat(n(),"/stats/record"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}),r=await l(t);if(!t.ok){var s;return{ok:!1,error:null!=(s=r.error)?s:"Request failed (".concat(t.status,")")}}return{ok:!0,data:r.stats}}},6815:e=>{e.exports={overlay:"ShootTheMoonOverlay_overlay___XJsX",stmFadeIn:"ShootTheMoonOverlay_stmFadeIn__NN89e",moon:"ShootTheMoonOverlay_moon__YCNqU",moonAppear:"ShootTheMoonOverlay_moonAppear__J3mMo",moonLight:"ShootTheMoonOverlay_moonLight__UvyBu",moonDark:"ShootTheMoonOverlay_moonDark__3244A",rocketWrap:"ShootTheMoonOverlay_rocketWrap__f9KSy",rocketX:"ShootTheMoonOverlay_rocketX__Xqcop",rocket:"ShootTheMoonOverlay_rocket__5x9Rm",rocketY:"ShootTheMoonOverlay_rocketY__VgmvH",explosion:"ShootTheMoonOverlay_explosion__5a6ae",explode:"ShootTheMoonOverlay_explode__4itAk",confettiAnchor:"ShootTheMoonOverlay_confettiAnchor__wYq7x",title:"ShootTheMoonOverlay_title___qMq_",titlePop:"ShootTheMoonOverlay_titlePop__3NhyA",shooterName:"ShootTheMoonOverlay_shooterName__sxD6_",slideUp:"ShootTheMoonOverlay_slideUp__qx1Ey",deltas:"ShootTheMoonOverlay_deltas__V8Mr7",deltaItem:"ShootTheMoonOverlay_deltaItem__8titQ",deltaName:"ShootTheMoonOverlay_deltaName__ZUNG9",deltaBadge:"ShootTheMoonOverlay_deltaBadge__CLcgW",deltaPenalty:"ShootTheMoonOverlay_deltaPenalty__eyU5d",deltaShooter:"ShootTheMoonOverlay_deltaShooter___dMeU",continueWrap:"ShootTheMoonOverlay_continueWrap__V_cMN"}},7460:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/play",function(){return t(1152)}])},7494:e=>{e.exports={container:"MobileGameTable_container__BBe8m",trickCenter:"MobileGameTable_trickCenter__es07o",seatTop:"MobileGameTable_seatTop__VLrXy",seatBottom:"MobileGameTable_seatBottom__Ai3c0",seatLeft:"MobileGameTable_seatLeft__dfzfg",seatRight:"MobileGameTable_seatRight__8yGGD"}},7643:e=>{e.exports={card:"card_card__oDiig",cardMedium:"card_cardMedium__jzRop",cardLarge:"card_cardLarge__bIMMZ",cardImage:"card_cardImage__zWhTY",cardImg:"card_cardImg__2XWUy",cardDisabled:"card_cardDisabled__gG4bf",cardSelected:"card_cardSelected__8WpHn",rankBlack:"card_rankBlack__XLjFb",suitBlack:"card_suitBlack__Lkwzl",rankRed:"card_rankRed__q8V_5",suitRed:"card_suitRed__C9gIW"}},9879:e=>{e.exports={phaseHint:"play_phaseHint__i3pNK",gameOverBlock:"play_gameOverBlock__OicaM",gameOverTitle:"play_gameOverTitle__wYnCD",roundSummaryOverlay:"play_roundSummaryOverlay__NbNMg",overlaySlideDown:"play_overlaySlideDown__DYM_R",roundBannerOverlay:"play_roundBannerOverlay__R3SWu",roundBannerText:"play_roundBannerText__domxM",roundBannerSlideIn:"play_roundBannerSlideIn__hsRmU",roundSummaryBlock:"play_roundSummaryBlock__FrJVb",roundSummaryTitle:"play_roundSummaryTitle__wwFOk",scoreTable:"play_scoreTable__wLxUs",scoreTableWinner:"play_scoreTableWinner__krTq8",scoreDelta:"play_scoreDelta__NRpqH",playContent:"play_playContent__XL0jH",gameTableWrapper:"play_gameTableWrapper__t8Gbs",gameTable:"play_gameTable__MURq3",tableCenter:"play_tableCenter__S1zAc",passCenter:"play_passCenter__qv_fM"}}},e=>{e.O(0,[164,840,126,195,692,23,636,593,792],()=>e(e.s=7460)),_N_E=e.O()}]);