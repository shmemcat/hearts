(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{708:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/create",function(){return t(7638)}])},1366:e=>{e.exports={toggleLabel:"Toggle_toggleLabel__urx0r",checked:"Toggle_checked__t8K00",track:"Toggle_track__tqFW5",toggleInput:"Toggle_toggleInput__Vzor3",thumb:"Toggle_thumb__ebdZ8"}},3647:(e,a,t)=>{"use strict";t.d(a,{m:()=>r});var n=t(7876),l=t(8363);let s={backgroundColor:"var(--tooltipbackground)",color:"var(--tooltiptext)",fontWeight:700,fontSize:"0.875rem",letterSpacing:"1.5px",borderRadius:"6px",padding:"6px 12px",maxWidth:"280px",zIndex:9999};function r(e){let{content:a,children:t,open:r,side:i="top",sideOffset:o=6}=e;return(0,n.jsx)(l.Kq,{delayDuration:0,children:(0,n.jsxs)(l.bL,{open:r,children:[(0,n.jsx)(l.l9,{asChild:!0,children:t}),(0,n.jsx)(l.ZL,{children:(0,n.jsx)(l.UC,{side:i,sideOffset:o,style:s,children:a})})]})})}},3907:(e,a,t)=>{"use strict";t.d(a,{e2:()=>s,Kw:()=>r,MG:()=>i,Mx:()=>h,l6:()=>p,lM:()=>y});var n=t(7876);t(4232);let l={tight:"pt-4",default:"pt-6",loose:"pt-10"},s=e=>{let{children:a,className:t="",padding:s="default"}=e;return(0,n.jsx)("div",{className:"flex flex-col gap-4 ".concat(l[s]," ").concat(t).trim(),children:a})},r=e=>{let{children:a,className:t=""}=e;return(0,n.jsx)("span",{className:"text-warningicon text-sm ".concat(t).trim(),children:a})},i=e=>{let{children:a,className:t="",...l}=e;return(0,n.jsx)("form",{className:"flex flex-col gap-4 max-w-[280px] mt-5 ".concat(t).trim(),...l,children:a})};var o=t(6825),c=t.n(o),d=t(7896),u=t(6736),m=t(156);let h=e=>{let{title:a,children:t,variant:l="default",contentClassName:s,className:r,hideTitleBlock:i=!1}=e;return(0,n.jsxs)("div",{className:"menu"===l?"w-full max-w-[1030px] mx-auto p-9 pb-[120px] box-border mt-5 mb-5 bg-transparent":c()["content-border-container"],children:[(0,n.jsx)(d.F,{}),(0,n.jsxs)(m.P.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25,ease:"easeOut"},className:"flex flex-col items-center justify-center ".concat(i?"mt-2 sm:mt-6":"mt-[50px] sm:mt-[140px]"," ").concat(null!=s?s:"").trim(),children:[!i&&(0,n.jsxs)("div",{className:c()["title-container"],children:[(0,n.jsx)(u.f,{size:212}),(0,n.jsx)("h1",{children:a})]}),(0,n.jsx)("div",{className:null!=r?r:"mt-8 w-full px-2 flex flex-col items-center justify-center text-center sm:mt-10",children:t})]})]})},x=e=>{let{className:a}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",className:a,"aria-hidden":!0,children:(0,n.jsx)("path",{fill:"currentColor",d:"M6 8L1 3h10z"})})};function p(e){let{value:a,onChange:t,options:l,disabled:s=!1,id:r,"aria-label":i,className:o}=e,c=String(a);return(0,n.jsxs)("div",{className:"relative inline-block min-w-[72px] ".concat(null!=o?o:"").trim(),children:[(0,n.jsx)("select",{id:r,className:"w-full cursor-pointer appearance-none rounded-xl border border-[var(--inputboxborder)] bg-[var(--inputbox)] py-2.5 pl-3.5 pr-8 text-[15px] font-semibold tracking-wide text-[var(--header)] transition-[border-color,box-shadow] focus:border-[var(--radiobutton)] focus:outline-none focus:ring-2 focus:ring-[var(--radiobutton)]/25 disabled:cursor-not-allowed disabled:opacity-40",value:c,onChange:e=>{let a=l.find(a=>String(a.value)===e.target.value);a&&t(a.value)},disabled:s,"aria-label":i,children:l.map(e=>(0,n.jsx)("option",{value:String(e.value),children:e.label},String(e.value)))}),(0,n.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[var(--header)]",children:(0,n.jsx)(x,{})})]})}var f=t(1366),g=t.n(f);let y=e=>{let{checked:a,onCheckedChange:t,disabled:l=!1,"aria-label":s,className:r}=e;return(0,n.jsxs)("label",{className:"".concat(g().toggleLabel," ").concat(a?g().checked:""," ").concat(null!=r?r:"").trim(),children:[(0,n.jsx)("input",{type:"checkbox",className:g().toggleInput,checked:a,onChange:e=>t(e.target.checked),disabled:l,"aria-label":s}),(0,n.jsx)("span",{className:g().track}),(0,n.jsx)("span",{className:g().thumb,"aria-hidden":!0})]})}},4603:(e,a,t)=>{"use strict";t.d(a,{a:()=>r});var n=t(7876),l=t(8230),s=t.n(l);let r=e=>{let{href:a,children:t,className:l="",...r}=e;return(0,n.jsx)(s(),{href:a,className:"link ".concat(l).trim(),...r,children:t})}},5995:(e,a,t)=>{"use strict";t.d(a,{u:()=>c});var n=t(7876),l=t(4232),s=t(8070),r=t(6523),i=t(2276),o=t(4603);let c=()=>{let{user:e,status:a}=(0,s.A)(),[t,c]=l.useState(!1);return(l.useEffect(()=>{c(!0)},[]),t&&"loading"!==a)?e?null:(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h2",{children:[(0,n.jsx)(r.gc,{icon:i.tUE,className:"text-warningicon",shake:!0})," ","Pssst"]}),(0,n.jsx)("span",{className:"block mb-4",children:"We noticed you're not signed in!"}),(0,n.jsxs)("span",{className:"block mb-4",children:["If you wish to save your game data, don't forget to"," ",(0,n.jsx)(o.a,{href:"/user",children:"sign in."})]})]}):null}},6775:(e,a,t)=>{"use strict";t.d(a,{F$:()=>d,Ll:()=>m,Y5:()=>o,YK:()=>u,c8:()=>i,dV:()=>c,zj:()=>r});var n=t(2022);let l=()=>(0,n.e)();async function s(e){return await e.json().catch(()=>({}))}async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=await fetch("".concat(l(),"/games/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s(a);if(!a.ok){var n;return{ok:!1,error:null!=(n=t.error)?n:"Request failed (".concat(a.status,")")}}return{ok:!0,data:t}}async function i(e){var a,t;let n=await fetch("".concat(l(),"/games/").concat(encodeURIComponent(e))),r=await s(n);return 404===n.status?{ok:!1,error:null!=(a=r.error)?a:"Game not found",notFound:!0}:n.ok?{ok:!0,data:r}:{ok:!1,error:null!=(t=r.error)?t:"Request failed (".concat(n.status,")")}}async function o(e,a){var t,n;let r=await fetch("".concat(l(),"/games/").concat(encodeURIComponent(e),"/pass"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await s(r);return 404===r.status?{ok:!1,error:null!=(t=i.error)?t:"Game not found",notFound:!0}:r.ok?{ok:!0,data:i}:{ok:!1,error:null!=(n=i.error)?n:"Request failed (".concat(r.status,")")}}async function c(e){var a,t;let n=await fetch("".concat(l(),"/games/").concat(encodeURIComponent(e),"/advance"),{method:"POST"}),r=await s(n);return 404===n.status?{ok:!1,error:null!=(a=r.error)?a:"Game not found",notFound:!0}:n.ok?{ok:!0,data:r}:{ok:!1,error:null!=(t=r.error)?t:"Request failed (".concat(n.status,")")}}async function d(e,a){var t,n;let r=await fetch("".concat(l(),"/games/").concat(encodeURIComponent(e),"/play"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await s(r);return 404===r.status?{ok:!1,error:null!=(t=i.error)?t:"Game not found",notFound:!0}:r.ok?{ok:!0,data:i}:{ok:!1,error:null!=(n=i.error)?n:"Request failed (".concat(r.status,")")}}async function u(e){let a=await fetch("".concat(l(),"/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await s(a);if(!a.ok){var n;return{ok:!1,error:null!=(n=t.error)?n:"Request failed (".concat(a.status,")")}}return{ok:!0,data:t.stats}}async function m(e,a){let t=await fetch("".concat(l(),"/stats/record"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}),n=await s(t);if(!t.ok){var r;return{ok:!1,error:null!=(r=n.error)?r:"Request failed (".concat(t.status,")")}}return{ok:!0,data:n.stats}}},7638:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var n=t(7876),l=t(7328),s=t.n(l),r=t(8230),i=t.n(r),o=t(9099),c=t(4232),d=t(1633),u=t(6825),m=t.n(u),h=t(3907);let x=e=>{let{gameType:a,onGameTypeChange:t,difficulty:l,onDifficultyChange:s,aiPlayersEnabled:r,onAiPlayersEnabledChange:i,numAiPlayers:o,onNumAiPlayersChange:d}=e,[u,h]=c.useState("Versus AI"),[x,g]=c.useState("Easy"),[y,j]=c.useState(!1),[b,v]=c.useState(1),N=null!=a?a:u,k=null!=t?t:h,w=null!=l?l:x,C=null!=s?s:g;function _(e){let a=e.target.value;a&&k(a)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Game Type"}),(0,n.jsxs)("div",{className:m()["create-button-container"],children:[(0,n.jsxs)("label",{className:"select-none",children:[(0,n.jsx)("input",{type:"radio",value:"Versus AI",name:"gameType",className:"radio mr-[5px]",checked:"Versus AI"===N,onChange:_})," ","Versus AI"]}),(0,n.jsxs)("label",{className:"select-none",children:[(0,n.jsx)("input",{type:"radio",value:"Online",name:"gameType",className:"radio mr-[5px]",checked:"Online"===N,onChange:_})," ","Online"]})]}),"Versus AI"===N?(0,n.jsx)(p,{difficulty:w,onDifficultyChange:C}):"Online"===N?(0,n.jsx)(f,{aiPlayersEnabled:null!=r?r:y,onAiPlayersEnabledChange:null!=i?i:j,numAiPlayers:null!=o?o:b,onNumAiPlayersChange:null!=d?d:v,difficulty:w,onDifficultyChange:C}):null]})},p=e=>{let{difficulty:a,onDifficultyChange:t}=e;function l(e){let a=e.target.value;a&&t(a)}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"pt-6",children:(0,n.jsx)("h2",{children:"AI Difficulty"})}),(0,n.jsxs)("div",{className:m()["create-button-container"],children:[(0,n.jsxs)("label",{className:"select-none",children:[(0,n.jsx)("input",{type:"radio",value:"Easy",name:"difficulty",className:"radio mr-[5px]",checked:"Easy"===a,onChange:l})," ","Easy"]}),(0,n.jsxs)("label",{className:"select-none",children:[(0,n.jsx)("input",{type:"radio",value:"Medium",name:"difficulty",className:"radio mr-[5px]",checked:"Medium"===a,onChange:l})," ","Medium"]}),(0,n.jsxs)("label",{className:"select-none",children:[(0,n.jsx)("input",{type:"radio",value:"My Mom",name:"difficulty",className:"radio mr-[5px]",checked:"My Mom"===a,onChange:l})," ","My Mom"]})]})]})},f=e=>{let{aiPlayersEnabled:a,onAiPlayersEnabledChange:t,numAiPlayers:l,onNumAiPlayersChange:s,difficulty:r,onDifficultyChange:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:m()["create-online-ai-section"],children:[(0,n.jsx)("h2",{children:"AI Players"}),(0,n.jsxs)("div",{className:m()["create-online-ai-inner"],children:[(0,n.jsxs)("div",{className:m()["create-toggle-row"],children:[(0,n.jsxs)("span",{className:m()["create-toggle-label"],children:[(0,n.jsx)("span",{className:m()["create-toggle-label-long"],children:"Include AI players"}),(0,n.jsx)("span",{className:m()["create-toggle-label-short"],children:"Include"})]}),(0,n.jsx)(h.lM,{checked:a,onCheckedChange:t,"aria-label":"Include AI players"})]}),(0,n.jsxs)("div",{className:m()["create-select-row"],children:[(0,n.jsx)("label",{htmlFor:"num-ai-players",className:m()["create-select-label"],children:"Number"}),(0,n.jsx)(h.l6,{id:"num-ai-players",value:l,onChange:s,options:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],disabled:!a,"aria-label":"Number of AI players"})]})]})]}),a&&(0,n.jsx)(p,{difficulty:r,onDifficultyChange:i})]})};var g=t(5995),y=t(3647),j=t(8070),b=t(6775);function v(){let e=(0,o.useRouter)(),{user:a}=(0,j.A)(),[t,l]=c.useState("Versus AI"),[r,u]=c.useState("Easy"),[m,p]=c.useState(!1),[f,v]=c.useState(1),[N,k]=c.useState(!1),[w,C]=c.useState(null);async function _(){if("Versus AI"===t){C(null),k(!0);try{let t=await (0,b.zj)({player_name:(null==a?void 0:a.name)||void 0,difficulty:"My Mom"===r?"hard":r.toLowerCase()});if(t.ok){let a=t.data.game_id;e.push("/game/play?game_id=".concat(encodeURIComponent(a)))}else C(t.error)}catch(e){C(e instanceof Error?e.message:"Failed to start game")}finally{k(!1)}}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"Create Game | Hearts"})}),(0,n.jsx)(h.Mx,{title:"CREATE GAME",children:(0,n.jsxs)("div",{className:"flex flex-col w-[440px] max-md:w-[300px]",children:[(0,n.jsx)(x,{gameType:t,onGameTypeChange:l,difficulty:r,onDifficultyChange:u,aiPlayersEnabled:m,onAiPlayersEnabledChange:p,numAiPlayers:f,onNumAiPlayersChange:v}),(0,n.jsxs)("div",{className:"pt-4 mt-4",children:["Versus AI"!==t?(0,n.jsx)(y.m,{content:"Online games coming soon!",children:(0,n.jsx)("span",{className:"inline-block",children:(0,n.jsx)(d.$,{name:N?"Starting…":"Create Game!",disabled:!0,style:{height:"50px"},onClick:_})})}):(0,n.jsx)(d.$,{name:N?"Starting…":"Create Game!",disabled:N,style:{height:"50px"},onClick:_}),null!=w&&(0,n.jsx)("p",{className:"mt-2 text-red-600 text-sm",role:"alert",children:w})]}),(0,n.jsx)(g.u,{}),(0,n.jsx)(h.e2,{className:"pt-0",children:(0,n.jsx)(i(),{href:"/",children:(0,n.jsx)(d.$,{name:"Home",style:{width:"120px"}})})})]})})]})}}},e=>{e.O(0,[164,840,126,363,23,636,593,792],()=>e(e.s=708)),_N_E=e.O()}]);