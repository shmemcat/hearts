(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{1366:e=>{e.exports={toggleLabel:"Toggle_toggleLabel__urx0r",checked:"Toggle_checked__t8K00",track:"Toggle_track__tqFW5",toggleInput:"Toggle_toggleInput__Vzor3",thumb:"Toggle_thumb__ebdZ8"}},3224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(7876),r=a(4232),n=a(3647);let l={padding:"8px 12px",width:"100%",boxSizing:"border-box"},o=(0,r.forwardRef)((e,t)=>{let{error:a,inputStyle:r,width:o,fontWeight:c,...i}=e,d={...l,...void 0!==o&&{width:"number"==typeof o?"".concat(o,"px"):o},...void 0!==c&&{fontWeight:c},...r},u=(0,s.jsx)("input",{ref:t,style:d,"aria-invalid":!!a,...i});return void 0!==a?(0,s.jsx)(n.m,{content:a,open:!!a,side:"bottom",children:u}):u});o.displayName="FormInput"},3457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(7876),r=a(7328),n=a.n(r),l=a(8230),o=a.n(l),c=a(4232),i=a(8070),d=a(1633),u=a(3224),m=a(4603),x=a(3907),h=a(6775),p=a(6825),f=a.n(p);function j(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"User | Hearts"})}),(0,s.jsx)(x.Mx,{title:"USER",children:(0,s.jsx)(g,{})})]})}function g(){let{user:e,status:t,login:a,logout:r}=(0,i.A)(),[n,l]=(0,c.useState)(""),[h,p]=(0,c.useState)(""),[f,j]=(0,c.useState)(""),[g,b]=(0,c.useState)({}),[w,N]=(0,c.useState)(!1),y=async e=>{e.preventDefault(),j(""),b({});let t=n.trim();if(!t)return void b({username:"Please enter your username."});if(!h)return void b({password:"Please enter your password."});N(!0);let s=await a(t,h);if(N(!1),s.error)return void j(s.error);l(""),p("")};if("loading"===t)return(0,s.jsx)("div",{className:"mt-8 w-[85vw] flex flex-col items-center justify-center text-center sm:mt-10",children:"Loading…"});if(e){var k;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-4",children:["Welcome ",(0,s.jsx)("span",{className:"bold",children:null!=(k=e.name)?k:e.email}),"!"]}),(0,s.jsx)(v,{}),(0,s.jsxs)(x.e2,{padding:"loose",children:[(0,s.jsx)(o(),{href:"/options",children:(0,s.jsx)(d.$,{name:"Options"})}),(0,s.jsx)(d.$,{name:"Sign Out",onClick:()=>r()}),(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)(d.$,{name:"Home"})})]})]})}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:"Sign in with your username and password."}),(0,s.jsxs)(x.MG,{onSubmit:y,noValidate:!0,children:[(0,s.jsx)(u.Z,{type:"text",placeholder:"Username",value:n,onChange:e=>{l(e.target.value),b(e=>e.username?{...e,username:void 0}:e)},autoComplete:"username",error:g.username}),(0,s.jsx)(u.Z,{type:"password",placeholder:"Password",value:h,onChange:e=>{p(e.target.value),b(e=>e.password?{...e,password:void 0}:e)},autoComplete:"current-password",error:g.password}),f&&(0,s.jsx)(x.Kw,{children:f}),(0,s.jsx)("div",{children:(0,s.jsx)(d.$,{name:w?"Signing in…":"Sign In",disabled:w})})]}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(m.a,{href:"/register",children:"Create an account"})}),(0,s.jsx)(x.e2,{className:"pt-7",children:(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)(d.$,{name:"Home"})})})]})}function v(){let{token:e}=(0,i.A)(),[t,a]=(0,c.useState)(null);if((0,c.useEffect)(()=>{e&&(0,h.YK)(e).then(e=>{e.ok&&a(e.data)})},[e]),!t)return null;let r=e=>null!=e?String(e):"--",n=t.games_played>0?"".concat(Math.round(t.games_won/t.games_played*100),"%"):"--";return(0,s.jsxs)("div",{className:f()["stats-card"],children:[(0,s.jsx)("p",{className:f()["stats-card-title"],children:"Your Stats"}),(0,s.jsxs)("div",{className:f()["stats-grid"],children:[(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Games Played"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.games_played)})]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Games Won"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.games_won)})]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Win Rate"}),(0,s.jsx)("span",{className:f()["stats-value"],children:n})]}),(0,s.jsx)("hr",{className:f()["stats-divider"]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Shot the Moon"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.moon_shots)})]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Best Score"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.best_score)})]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Worst Score"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.worst_score)})]}),(0,s.jsxs)("div",{className:f()["stats-row"],children:[(0,s.jsx)("span",{className:f()["stats-label"],children:"Avg Score"}),(0,s.jsx)("span",{className:f()["stats-value"],children:r(t.average_score)})]})]})]})}},3647:(e,t,a)=>{"use strict";a.d(t,{m:()=>l});var s=a(7876),r=a(8363);let n={backgroundColor:"var(--tooltipbackground)",color:"var(--tooltiptext)",fontWeight:700,fontSize:"0.875rem",letterSpacing:"1.5px",borderRadius:"6px",padding:"6px 12px",maxWidth:"280px",zIndex:9999};function l(e){let{content:t,children:a,open:l,side:o="top",sideOffset:c=6}=e;return(0,s.jsx)(r.Kq,{delayDuration:0,children:(0,s.jsxs)(r.bL,{open:l,children:[(0,s.jsx)(r.l9,{asChild:!0,children:a}),(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{side:o,sideOffset:c,style:n,children:t})})]})})}},3907:(e,t,a)=>{"use strict";a.d(t,{e2:()=>n,Kw:()=>l,MG:()=>o,Mx:()=>x,l6:()=>p,lM:()=>g});var s=a(7876);a(4232);let r={tight:"pt-4",default:"pt-6",loose:"pt-10"},n=e=>{let{children:t,className:a="",padding:n="default"}=e;return(0,s.jsx)("div",{className:"flex flex-col gap-4 ".concat(r[n]," ").concat(a).trim(),children:t})},l=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("span",{className:"text-warningicon text-sm ".concat(a).trim(),children:t})},o=e=>{let{children:t,className:a="",...r}=e;return(0,s.jsx)("form",{className:"flex flex-col gap-4 max-w-[280px] mt-5 ".concat(a).trim(),...r,children:t})};var c=a(6825),i=a.n(c),d=a(7896),u=a(6736),m=a(156);let x=e=>{let{title:t,children:a,variant:r="default",contentClassName:n,className:l,hideTitleBlock:o=!1}=e;return(0,s.jsxs)("div",{className:"menu"===r?"w-full max-w-[1030px] mx-auto p-9 pb-[120px] box-border mt-5 mb-5 bg-transparent":i()["content-border-container"],children:[(0,s.jsx)(d.F,{}),(0,s.jsxs)(m.P.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25,ease:"easeOut"},className:"flex flex-col items-center justify-center ".concat(o?"mt-2 sm:mt-6":"mt-[50px] sm:mt-[140px]"," ").concat(null!=n?n:"").trim(),children:[!o&&(0,s.jsxs)("div",{className:i()["title-container"],children:[(0,s.jsx)(u.f,{size:212}),(0,s.jsx)("h1",{children:t})]}),(0,s.jsx)("div",{className:null!=l?l:"mt-8 w-full px-2 flex flex-col items-center justify-center text-center sm:mt-10",children:a})]})]})},h=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",className:t,"aria-hidden":!0,children:(0,s.jsx)("path",{fill:"currentColor",d:"M6 8L1 3h10z"})})};function p(e){let{value:t,onChange:a,options:r,disabled:n=!1,id:l,"aria-label":o,className:c}=e,i=String(t);return(0,s.jsxs)("div",{className:"relative inline-block min-w-[72px] ".concat(null!=c?c:"").trim(),children:[(0,s.jsx)("select",{id:l,className:"w-full cursor-pointer appearance-none rounded-xl border border-[var(--inputboxborder)] bg-[var(--inputbox)] py-2.5 pl-3.5 pr-8 text-[15px] font-semibold tracking-wide text-[var(--header)] transition-[border-color,box-shadow] focus:border-[var(--radiobutton)] focus:outline-none focus:ring-2 focus:ring-[var(--radiobutton)]/25 disabled:cursor-not-allowed disabled:opacity-40",value:i,onChange:e=>{let t=r.find(t=>String(t.value)===e.target.value);t&&a(t.value)},disabled:n,"aria-label":o,children:r.map(e=>(0,s.jsx)("option",{value:String(e.value),children:e.label},String(e.value)))}),(0,s.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[var(--header)]",children:(0,s.jsx)(h,{})})]})}var f=a(1366),j=a.n(f);let g=e=>{let{checked:t,onCheckedChange:a,disabled:r=!1,"aria-label":n,className:l}=e;return(0,s.jsxs)("label",{className:"".concat(j().toggleLabel," ").concat(t?j().checked:""," ").concat(null!=l?l:"").trim(),children:[(0,s.jsx)("input",{type:"checkbox",className:j().toggleInput,checked:t,onChange:e=>a(e.target.checked),disabled:r,"aria-label":n}),(0,s.jsx)("span",{className:j().track}),(0,s.jsx)("span",{className:j().thumb,"aria-hidden":!0})]})}},4603:(e,t,a)=>{"use strict";a.d(t,{a:()=>l});var s=a(7876),r=a(8230),n=a.n(r);let l=e=>{let{href:t,children:a,className:r="",...l}=e;return(0,s.jsx)(n(),{href:t,className:"link ".concat(r).trim(),...l,children:a})}},6238:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return a(3457)}])},6775:(e,t,a)=>{"use strict";a.d(t,{F$:()=>d,Ll:()=>m,Y5:()=>c,YK:()=>u,c8:()=>o,dV:()=>i,zj:()=>l});var s=a(2022);let r=()=>(0,s.e)();async function n(e){return await e.json().catch(()=>({}))}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await fetch("".concat(r(),"/games/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await n(t);if(!t.ok){var s;return{ok:!1,error:null!=(s=a.error)?s:"Request failed (".concat(t.status,")")}}return{ok:!0,data:a}}async function o(e){var t,a;let s=await fetch("".concat(r(),"/games/").concat(encodeURIComponent(e))),l=await n(s);return 404===s.status?{ok:!1,error:null!=(t=l.error)?t:"Game not found",notFound:!0}:s.ok?{ok:!0,data:l}:{ok:!1,error:null!=(a=l.error)?a:"Request failed (".concat(s.status,")")}}async function c(e,t){var a,s;let l=await fetch("".concat(r(),"/games/").concat(encodeURIComponent(e),"/pass"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n(l);return 404===l.status?{ok:!1,error:null!=(a=o.error)?a:"Game not found",notFound:!0}:l.ok?{ok:!0,data:o}:{ok:!1,error:null!=(s=o.error)?s:"Request failed (".concat(l.status,")")}}async function i(e){var t,a;let s=await fetch("".concat(r(),"/games/").concat(encodeURIComponent(e),"/advance"),{method:"POST"}),l=await n(s);return 404===s.status?{ok:!1,error:null!=(t=l.error)?t:"Game not found",notFound:!0}:s.ok?{ok:!0,data:l}:{ok:!1,error:null!=(a=l.error)?a:"Request failed (".concat(s.status,")")}}async function d(e,t){var a,s;let l=await fetch("".concat(r(),"/games/").concat(encodeURIComponent(e),"/play"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n(l);return 404===l.status?{ok:!1,error:null!=(a=o.error)?a:"Game not found",notFound:!0}:l.ok?{ok:!0,data:o}:{ok:!1,error:null!=(s=o.error)?s:"Request failed (".concat(l.status,")")}}async function u(e){let t=await fetch("".concat(r(),"/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),a=await n(t);if(!t.ok){var s;return{ok:!1,error:null!=(s=a.error)?s:"Request failed (".concat(t.status,")")}}return{ok:!0,data:a.stats}}async function m(e,t){let a=await fetch("".concat(r(),"/stats/record"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}),s=await n(a);if(!a.ok){var l;return{ok:!1,error:null!=(l=s.error)?l:"Request failed (".concat(a.status,")")}}return{ok:!0,data:s.stats}}}},e=>{e.O(0,[164,840,126,363,23,636,593,792],()=>e(e.s=6238)),_N_E=e.O()}]);