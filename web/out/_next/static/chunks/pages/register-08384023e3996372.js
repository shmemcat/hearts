(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{143:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(7876),n=a(7328),s=a.n(n),l=a(8230),i=a.n(l),o=a(4232),c=a(9099),d=a(1633),u=a(3224),m=a(4603),x=a(3907),p=a(2022),h=a(7432);function g(){(0,c.useRouter)();let[e,t]=(0,o.useState)(""),[a,n]=(0,o.useState)(""),[l,g]=(0,o.useState)(""),[f,v]=(0,o.useState)(""),[b,j]=(0,o.useState)(""),[w,y]=(0,o.useState)({}),[_,N]=(0,o.useState)(!1),[S,C]=(0,o.useState)(!1),k=async t=>{t.preventDefault(),j(""),y({});let r=e.trim(),n=a.trim().toLowerCase();if(!r)return void y({username:"Please enter a username."});if(!h.Bd.test(r))return void y({username:"Username must be 3–64 characters, letters, numbers, and underscores only."});if(!n)return void y({email:"Please enter your email."});if(l.length<h.HJ)return void y({password:"Password must be at least ".concat(h.HJ," characters.")});if(l!==f)return void y({confirmPassword:"Passwords do not match."});N(!0);try{let e=await fetch("".concat((0,p.e)(),"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,email:n,password:l})}),t=await e.json().catch(()=>({}));if(!e.ok){j(t.error||"Registration failed"),N(!1);return}C(!0)}catch(e){j("Something went wrong")}N(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Register | Hearts"})}),(0,r.jsxs)(x.Mx,{title:"REGISTER",children:[S?(0,r.jsx)("div",{children:(0,r.jsx)(m.a,{href:"/user",children:"Sign in"})}):(0,r.jsxs)(x.MG,{onSubmit:k,noValidate:!0,children:[(0,r.jsx)(u.Z,{type:"text",placeholder:"Username",value:e,onChange:e=>{t(e.target.value),y(e=>e.username?{...e,username:void 0}:e)},autoComplete:"username",error:w.username}),(0,r.jsx)(u.Z,{type:"email",placeholder:"Email",value:a,onChange:e=>{n(e.target.value),y(e=>e.email?{...e,email:void 0}:e)},autoComplete:"email",error:w.email}),(0,r.jsx)(u.Z,{type:"password",placeholder:"Password",value:l,onChange:e=>{g(e.target.value),y(e=>e.password?{...e,password:void 0}:e)},autoComplete:"new-password",error:w.password}),(0,r.jsx)(u.Z,{type:"password",placeholder:"Confirm password",value:f,onChange:e=>{v(e.target.value),y(e=>e.confirmPassword?{...e,confirmPassword:void 0}:e)},autoComplete:"new-password",error:w.confirmPassword}),b&&(0,r.jsx)(x.Kw,{children:b}),(0,r.jsx)(d.$,{name:_?"Creating account…":"Create account",disabled:_})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(m.a,{href:"/user",children:"Already have an account? Sign in"})}),(0,r.jsx)(x.e2,{children:(0,r.jsx)(i(),{href:"/",children:(0,r.jsx)(d.$,{name:"Home"})})})]})]})}},1366:e=>{e.exports={toggleLabel:"Toggle_toggleLabel__urx0r",checked:"Toggle_checked__t8K00",track:"Toggle_track__tqFW5",toggleInput:"Toggle_toggleInput__Vzor3",thumb:"Toggle_thumb__ebdZ8"}},2790:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(143)}])},3224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(7876),n=a(4232),s=a(3647);let l={padding:"8px 12px",width:"100%",boxSizing:"border-box"},i=(0,n.forwardRef)((e,t)=>{let{error:a,inputStyle:n,width:i,fontWeight:o,...c}=e,d={...l,...void 0!==i&&{width:"number"==typeof i?"".concat(i,"px"):i},...void 0!==o&&{fontWeight:o},...n},u=(0,r.jsx)("input",{ref:t,style:d,"aria-invalid":!!a,...c});return void 0!==a?(0,r.jsx)(s.m,{content:a,open:!!a,side:"bottom",children:u}):u});i.displayName="FormInput"},3647:(e,t,a)=>{"use strict";a.d(t,{m:()=>l});var r=a(7876),n=a(8363);let s={backgroundColor:"var(--tooltipbackground)",color:"var(--tooltiptext)",fontWeight:700,fontSize:"0.875rem",letterSpacing:"1.5px",borderRadius:"6px",padding:"6px 12px",maxWidth:"280px",zIndex:9999};function l(e){let{content:t,children:a,open:l,side:i="top",sideOffset:o=6}=e;return(0,r.jsx)(n.Kq,{delayDuration:0,children:(0,r.jsxs)(n.bL,{open:l,children:[(0,r.jsx)(n.l9,{asChild:!0,children:a}),(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{side:i,sideOffset:o,style:s,children:t})})]})})}},3907:(e,t,a)=>{"use strict";a.d(t,{e2:()=>s,Kw:()=>l,MG:()=>i,Mx:()=>x,l6:()=>h,lM:()=>v});var r=a(7876);a(4232);let n={tight:"pt-4",default:"pt-6",loose:"pt-10"},s=e=>{let{children:t,className:a="",padding:s="default"}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-4 ".concat(n[s]," ").concat(a).trim(),children:t})},l=e=>{let{children:t,className:a=""}=e;return(0,r.jsx)("span",{className:"text-warningicon text-sm ".concat(a).trim(),children:t})},i=e=>{let{children:t,className:a="",...n}=e;return(0,r.jsx)("form",{className:"flex flex-col gap-4 max-w-[280px] mt-5 ".concat(a).trim(),...n,children:t})};var o=a(6825),c=a.n(o),d=a(7896),u=a(6736),m=a(156);let x=e=>{let{title:t,children:a,variant:n="default",contentClassName:s,className:l,hideTitleBlock:i=!1}=e;return(0,r.jsxs)("div",{className:"menu"===n?"w-full max-w-[1030px] mx-auto p-9 pb-[120px] box-border mt-5 mb-5 bg-transparent":c()["content-border-container"],children:[(0,r.jsx)(d.F,{}),(0,r.jsxs)(m.P.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25,ease:"easeOut"},className:"flex flex-col items-center justify-center ".concat(i?"mt-2 sm:mt-6":"mt-[50px] sm:mt-[140px]"," ").concat(null!=s?s:"").trim(),children:[!i&&(0,r.jsxs)("div",{className:c()["title-container"],children:[(0,r.jsx)(u.f,{size:212}),(0,r.jsx)("h1",{children:t})]}),(0,r.jsx)("div",{className:null!=l?l:"mt-8 w-full px-2 flex flex-col items-center justify-center text-center sm:mt-10",children:a})]})]})},p=e=>{let{className:t}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",className:t,"aria-hidden":!0,children:(0,r.jsx)("path",{fill:"currentColor",d:"M6 8L1 3h10z"})})};function h(e){let{value:t,onChange:a,options:n,disabled:s=!1,id:l,"aria-label":i,className:o}=e,c=String(t);return(0,r.jsxs)("div",{className:"relative inline-block min-w-[72px] ".concat(null!=o?o:"").trim(),children:[(0,r.jsx)("select",{id:l,className:"w-full cursor-pointer appearance-none rounded-xl border border-[var(--inputboxborder)] bg-[var(--inputbox)] py-2.5 pl-3.5 pr-8 text-[15px] font-semibold tracking-wide text-[var(--header)] transition-[border-color,box-shadow] focus:border-[var(--radiobutton)] focus:outline-none focus:ring-2 focus:ring-[var(--radiobutton)]/25 disabled:cursor-not-allowed disabled:opacity-40",value:c,onChange:e=>{let t=n.find(t=>String(t.value)===e.target.value);t&&a(t.value)},disabled:s,"aria-label":i,children:n.map(e=>(0,r.jsx)("option",{value:String(e.value),children:e.label},String(e.value)))}),(0,r.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[var(--header)]",children:(0,r.jsx)(p,{})})]})}var g=a(1366),f=a.n(g);let v=e=>{let{checked:t,onCheckedChange:a,disabled:n=!1,"aria-label":s,className:l}=e;return(0,r.jsxs)("label",{className:"".concat(f().toggleLabel," ").concat(t?f().checked:""," ").concat(null!=l?l:"").trim(),children:[(0,r.jsx)("input",{type:"checkbox",className:f().toggleInput,checked:t,onChange:e=>a(e.target.checked),disabled:n,"aria-label":s}),(0,r.jsx)("span",{className:f().track}),(0,r.jsx)("span",{className:f().thumb,"aria-hidden":!0})]})}},4603:(e,t,a)=>{"use strict";a.d(t,{a:()=>l});var r=a(7876),n=a(8230),s=a.n(n);let l=e=>{let{href:t,children:a,className:n="",...l}=e;return(0,r.jsx)(s(),{href:t,className:"link ".concat(n).trim(),...l,children:a})}}},e=>{e.O(0,[164,840,126,363,23,636,593,792],()=>e(e.s=2790)),_N_E=e.O()}]);